<!DOCTYPE html>
<html>
<head>
<title>issue cors test</title>
</head>

<body>

<input id="openGithubIssueButton" value="open github issue" type="button">

<script>
function openGithubIssue() {
  // alert('not yet implemented');
  // return;
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if (xhr.readyState===4) {
      console.log(xhr.getAllResponseHeaders());
      console.log(xhr.response)
    }
  };
  var data = '{"title":"test ticket add <name.value>"'  // be careful with content injection
             +'"body": "<info>"'
             +'"labels":["new info"]'
             +'}';
  xhr.open('POST','https://api.github.com/repos/clausreinke/playground/issues');
  xhr.setRequestHeader("Content-Type", "text/plain;charset=UTF-8");
  xhr.responseType = "json";
  xhr.send(data);
}
openGithubIssueButton.addEventListener('click',openGithubIssue,false);
</script>
</script>

</body>
</html>
